!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=28)}([function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=r(1);function i(e){return"[object Number]"==Object.prototype.toString.call(e)}function a(e){return"[object String]"==Object.prototype.toString.call(e)}function s(e){return"[object Array]"==Object.prototype.toString.call(e)}function c(e){return"[object Boolean]"==Object.prototype.toString.call(e)}function u(e){return"[object RegExp]"==Object.prototype.toString.call(e)}function l(e){return"[object Date]"==Object.prototype.toString.call(e)}function f(e){return void 0===e}function d(e){return null===e}function p(e){return"[object Symbol]"==Object.prototype.toString.call(e)}function g(e){return!("[object Object]"!=Object.prototype.toString.call(e)&&(i(e)||a(e)||c(e)||l(e)||u(e)||s(e)||d(e)||m(e)||f(e)||p(e)))}function h(e){if(!g(e))return!0;for(var t in e)return!1;return!0}function v(e){return!s(e)||!(e.length>0)}function m(e){return"[object Function]"==Object.prototype.toString.call(e)}function b(e){return"object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":n(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function y(e){var t=Object.prototype.toString.call(e);return"[object global]"==t||"[object Window]"==t||"[object DOMWindow]"==t}function S(e){var t,r=Object.prototype.hasOwnProperty;if(!e||"object"!==(void 0===e?"undefined":n(e))||e.nodeType||y(e))return!1;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||r.call(e,t)}function w(e){return Array.prototype.slice.call(e)}t.dateFormat=function(e,t){if(!t||"string"!=typeof t)return console.error("format is undefiend or type is Error"),"";var r={"y+":(e=e instanceof Date?e:"number"==typeof e||"string"==typeof e?new Date(e):new Date).getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var n in r)if(new RegExp(n).test(t)){var o=RegExp.lastMatch;t=t.replace(o,r[n]<10?"0"+r[n]:r[n].toString())}return t},t.isNumber=i,t.isString=a,t.isArray=s,t.isBoolean=c,t.isRegExp=u,t.isDateObject=l,t.isUndefined=f,t.isNull=d,t.isExist=function(e){return!f(e)&&!d(e)},t.isSymbol=p,t.isSVGElement=function(e){return b(e)&&(e instanceof SVGElement||e.ownerSVGElement)},t.isObject=g,t.isEmptyObject=h,t.isEmptyArray=v,t.isFunction=m,t.isElement=b,t.isWindow=y,t.isPlainObject=S,t.isClassObject=function(e){return!(!g(e)||S(e))},t.toArray=w,t.toString=function(e){return e?"string"==typeof e?e:e.toString():""},t.setSessionStorage=function(e,t){window.sessionStorage&&(e="keepObserverData_"+e,t=JSON.stringify(t),sessionStorage.setItem(e,t))},t.getSessionStorage=function(e){if(window.sessionStorage){e="keepObserverData_"+e;var t=sessionStorage.getItem(e);return t?JSON.parse(t):""}},t.removeSessionStorage=function(e){window.sessionStorage&&(e="keepObserverData_"+e,sessionStorage.removeItem(e))},t.setStorage=function(e,t){window.localStorage&&(e="keepObserverData_"+e,t=JSON.stringify(t),localStorage.setItem(e,t))},t.getStorage=function(e){if(window.localStorage){e="keepObserverData_"+e;var t=localStorage.getItem(e);return t?JSON.parse(t):""}},t.removeStorage=function(e){window.localStorage&&(e="keepObserverData_"+e,localStorage.removeItem(e))},t.getUniqueID=function(){return"xxxxxxxx-xxx-t-xxx--xxxxxxxx".replace(/[xyt]/g,function(e){var t=16*Math.random()|0,r=(new Date).getTime();return("x"==e?t:"t"==e?r:3&t|8).toString(16)})},t.extend=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=w(arguments);if(0===n.length)return console.error("extends params is undefined"),{};if(1===n.length)return n[0];var o=n[0],i=n.slice(1,n.length);return g(o)||s(o)||(o={}),i.map(function(t){if(o===t)return!1;if(g(t))for(var r in t)g(t[r])&&!h(t[r])?(o[r]=o[r]&&g(o[r])?o[r]:{},o[r]=e(o[r],t[r])):s(t[r])&&!v(t[r])?(o[r]=o[r]&&s(o[r])?o[r]:[],o[r]=e(o[r],t[r])):g(t[r])&&h(t[r])?o[r]={}:s(t[r])&&v(t[r])?o[r]=[]:o[r]=t[r];else if(s(t))for(var n=0;n<t.length;n++)g(t[n])&&!h(t[n])?(o[n]=o[n]&&g(o[n])?o[n]:{},o[n]=e(o[n],t[n])):s(t[n])&&!v(t[n])?(o[n]=o[n]&&s(o[n])?o[n]:[],o[n]=e(o[n],t[n])):g(t[n])&&h(t[n])?o[n]={}:s(t[n])&&v(t[n])?o[n]=[]:o[n]=t[n]}),o},t.mixin=function(e,t){for(var r in t&&g(t)&&!h(t)||o.warnError("keepObserver $mixin receive params not right"),t)e[r]?o.warnError("keepObserver $mixin method key: "+r+" is exist"):Object.defineProperty(e,r,{configurable:!1,enumerable:!0,value:t[r]})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.console.log,o=window.console.warn,i=window.console.error;window.console.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.apply(window.console,e)},window.console.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.apply(window.console,e)},window.console.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.apply(window.console,e)},t.log=n,t.error=i,t.wran=o,t.warnError=function(e){return t.error("[keepObserver] find error! message: "+e)}},function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],i=0;i<4;i++)8*n+6*i<=8*e.length?r.push(t.charAt(o>>>6*(3-i)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}};e.exports=r}()},function(e,t,r){!function(){var t=r(4),n=r(2).utf8,o=r(3),i=r(2).bin,a=function(e,r){e.constructor==String?e=r&&"binary"===r.encoding?i.stringToBytes(e):n.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());for(var s=t.bytesToWords(e),c=8*e.length,u=1732584193,l=-271733879,f=-1732584194,d=271733878,p=0;p<s.length;p++)s[p]=16711935&(s[p]<<8|s[p]>>>24)|4278255360&(s[p]<<24|s[p]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var g=a._ff,h=a._gg,v=a._hh,m=a._ii;for(p=0;p<s.length;p+=16){var b=u,y=l,S=f,w=d;l=m(l=m(l=m(l=m(l=v(l=v(l=v(l=v(l=h(l=h(l=h(l=h(l=g(l=g(l=g(l=g(l,f=g(f,d=g(d,u=g(u,l,f,d,s[p+0],7,-680876936),l,f,s[p+1],12,-389564586),u,l,s[p+2],17,606105819),d,u,s[p+3],22,-1044525330),f=g(f,d=g(d,u=g(u,l,f,d,s[p+4],7,-176418897),l,f,s[p+5],12,1200080426),u,l,s[p+6],17,-1473231341),d,u,s[p+7],22,-45705983),f=g(f,d=g(d,u=g(u,l,f,d,s[p+8],7,1770035416),l,f,s[p+9],12,-1958414417),u,l,s[p+10],17,-42063),d,u,s[p+11],22,-1990404162),f=g(f,d=g(d,u=g(u,l,f,d,s[p+12],7,1804603682),l,f,s[p+13],12,-40341101),u,l,s[p+14],17,-1502002290),d,u,s[p+15],22,1236535329),f=h(f,d=h(d,u=h(u,l,f,d,s[p+1],5,-165796510),l,f,s[p+6],9,-1069501632),u,l,s[p+11],14,643717713),d,u,s[p+0],20,-373897302),f=h(f,d=h(d,u=h(u,l,f,d,s[p+5],5,-701558691),l,f,s[p+10],9,38016083),u,l,s[p+15],14,-660478335),d,u,s[p+4],20,-405537848),f=h(f,d=h(d,u=h(u,l,f,d,s[p+9],5,568446438),l,f,s[p+14],9,-1019803690),u,l,s[p+3],14,-187363961),d,u,s[p+8],20,1163531501),f=h(f,d=h(d,u=h(u,l,f,d,s[p+13],5,-1444681467),l,f,s[p+2],9,-51403784),u,l,s[p+7],14,1735328473),d,u,s[p+12],20,-1926607734),f=v(f,d=v(d,u=v(u,l,f,d,s[p+5],4,-378558),l,f,s[p+8],11,-2022574463),u,l,s[p+11],16,1839030562),d,u,s[p+14],23,-35309556),f=v(f,d=v(d,u=v(u,l,f,d,s[p+1],4,-1530992060),l,f,s[p+4],11,1272893353),u,l,s[p+7],16,-155497632),d,u,s[p+10],23,-1094730640),f=v(f,d=v(d,u=v(u,l,f,d,s[p+13],4,681279174),l,f,s[p+0],11,-358537222),u,l,s[p+3],16,-722521979),d,u,s[p+6],23,76029189),f=v(f,d=v(d,u=v(u,l,f,d,s[p+9],4,-640364487),l,f,s[p+12],11,-421815835),u,l,s[p+15],16,530742520),d,u,s[p+2],23,-995338651),f=m(f,d=m(d,u=m(u,l,f,d,s[p+0],6,-198630844),l,f,s[p+7],10,1126891415),u,l,s[p+14],15,-1416354905),d,u,s[p+5],21,-57434055),f=m(f,d=m(d,u=m(u,l,f,d,s[p+12],6,1700485571),l,f,s[p+3],10,-1894986606),u,l,s[p+10],15,-1051523),d,u,s[p+1],21,-2054922799),f=m(f,d=m(d,u=m(u,l,f,d,s[p+8],6,1873313359),l,f,s[p+15],10,-30611744),u,l,s[p+6],15,-1560198380),d,u,s[p+13],21,1309151649),f=m(f,d=m(d,u=m(u,l,f,d,s[p+4],6,-145523070),l,f,s[p+11],10,-1120210379),u,l,s[p+2],15,718787259),d,u,s[p+9],21,-343485551),u=u+b>>>0,l=l+y>>>0,f=f+S>>>0,d=d+w>>>0}return t.endian([u,l,f,d])};a._ff=function(e,t,r,n,o,i,a){var s=e+(t&r|~t&n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._gg=function(e,t,r,n,o,i,a){var s=e+(t&n|r&~n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._hh=function(e,t,r,n,o,i,a){var s=e+(t^r^n)+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._ii=function(e,t,r,n,o,i,a){var s=e+(r^(t|~n))+(o>>>0)+a;return(s<<i|s>>>32-i)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,r){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var n=t.wordsToBytes(a(e,r));return r&&r.asBytes?n:r&&r.asString?i.bytesToString(n):t.bytesToHex(n)}}()},,,,,,,,,,,,,function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.addReportListener=function(e){e&&this.eventListener.push(e)},t.handleReportData=function(e){var t={lazy:!1,isError:!1,isReport:!0};return{reportParams:{type:"analyse",typeName:"webSignConfig",data:e,location:window.location.href,environment:window.navigator.userAgent,reportTime:(new Date).getTime()},control:t}},t.noticeReport=function(e){var t=this;if(0===t.eventListener.length)return!1;t.eventListener.map(function(r){if(o.isFunction(r)){var n=t.handleReportData(e);r(n.reportParams,n.control)}})}},function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.attrSelectFlag="keepObserverSelecteElementSgin",t.attrCacheSelect="keepObserverCacheSelecteElementSgin",t.createXPath=function(e){if(e.id)return'//*[@id="'+e.id+'"]';if("body"===e.nodeName.toLowerCase())return"/html/"+e.nodeName.toLowerCase();var r=1,n=e.parentNode.children;e.setAttribute(t.attrSelectFlag,!0);for(var o=0,i=n.length;o<i;o++){var a=n[o];if(a.getAttribute(t.attrSelectFlag))return e.removeAttribute(t.attrSelectFlag),t.createXPath(e.parentNode)+"/"+e.nodeName.toLowerCase()+(r>1?"["+r+"]":"");a.nodeName.toLowerCase()===e.nodeName.toLowerCase()&&r++}},t.parseXpath=function(e){var t=!1,r=!1,n=1,i=/^\/\/\*\[@id=(?:'|"){1}(.*)+(?:'|"){1}\]/,a=/^\/html\/body\//,s=/([a-z\-]+)+(?:\[(\d+)+\])?\//,c=/([a-z\-]+)+(?:\[(\d+)+\])?$/,u=function(e,t){var r=e.length;return t.substring(r)};if(!e||!o.isString(e))return!1;if(i.test(e)){var l,f=(l=e.match(i))[0],d=l[1];e=u(f,e),r=t=document.querySelector("#"+d)}a.test(e)&&(e=u(f=(l=e.match(a))[0],e),r=t=document.body);for(;r&&(s.test(e)||c.test(e))&&n<1e3;){n++,t=!1;var p=e.match(s),g=(f=(p=p||e.match(c))[0],p[1]),h=p[2]?parseInt(p[2]):1,v=1;o.toArray(r.children).forEach(function(e){if(t)return!1;var r=e.nodeName.toLowerCase();r===g&&h===v?t=e:r===g&&v++}),r=t,e=u(f,e)}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.htmlTabMap=function(e,t){var r={},n="string"==typeof t?t.split(","):t.toString().split(",");return Array.isArray(n)&&n.length>0?(r[e]=n,function(t){return-1!==r[e].indexOf(t)}):function(){return!1}}("tab","a,abbr,address,acronym,article,area,aside,audio,b,bdi,bdo,big,blockquote,button,body,base,canvas,caption,cite,code,col,colgroup,command,center,dd,details,dialog,div,dl,dt,datalist,del,dfn,em,embed,fieldset,figcaption,figure,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,i,iframe,img,input,ins,kbd,keygen,label,legend,li,menuitem,meta,map,mark,menu,menuitem,meter,nav,noframes,noscript,object,ol,optgroup,option,output,p,param,pre,progress,q,rp,rt,ruby,samp,section,select,small,source,span,strong,sub,summary,sup,title,tr,track,table,tbody,td,textarea,tfoot,th,thead,time,tt,u,ul,var,video,wbr")},function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.selectClassName="keepObserver-webSgin-SelectNode",t.activeClassName="keepObserver-webSgin-ActiveNode";var i="\n    ."+t.selectClassName+"{\n        box-sizing: border-box !important;\n        border: 1px dashed #ff3300 !important;\n        background-color: rgba(255,165,0,0.8) !important;\n    }\n    ."+t.activeClassName+"{\n        box-sizing: border-box !important;\n        border: 1px dashed #ffa500 !important;\n        background-color: rgba(255,51,0,0.8) !important;\n    }\n",a=function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},s=function(e,t){return!(!o.isElement(e)||!o.isString(t)||o.isSVGElement(e))&&((!a(e,t)||!e.className.match)&&void(e.className+=" "+t))},c=function(e,t){return!(!o.isElement(e)||!o.isString(t)||o.isSVGElement(e))&&(!!a(e,t)&&void(e.className=e.className.replace(new RegExp("(\\s|^)"+t),"")))};t.loadStyle=function(){var e=document.createElement("style"),t=document.querySelector("head");e.innerHTML=i,t.appendChild(e)},t.addSelelctNodeClass=function(e){return s(e,t.selectClassName)},t.removeSelelctNodeClass=function(e){return c(e,t.selectClassName)},t.addActiveNodeClass=function(e){return s(e,t.activeClassName)},t.removeActiveNodeClass=function(e){return c(e,t.activeClassName)}},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(5)),a=o(r(0)),s=o(r(1)),c=o(r(21)),u=r(20),l=r(19);t.initDomEvent=function(){var e=this;c.loadStyle(),document.addEventListener("click",function(t){e.selectElement(t)},!1)},t.createElementNodeInfo=function(e){if(!a.isElement(e))return!1;if(!u.htmlTabMap(e.nodeName.toLowerCase()))return s.warnError("element.nodeType:"+e.nodeName.toLowerCase()+" unsupport select sgin"),!1;if(e.getAttribute(l.attrCacheSelect))return this.nodeInfoCaches[e.getAttribute(l.attrCacheSelect)];var t=l.createXPath(e),r={nodeType:e.nodeName.toLowerCase(),xPath:t,nodeId:i.default(t)};return e.setAttribute(l.attrCacheSelect,r.nodeId),this.nodeInfoCaches[e.getAttribute(l.attrCacheSelect)]=r,r},t.selectElement=function(e){var t=e.target;this.preventDefault&&e.preventDefault(),this.selectDom&&c.removeSelelctNodeClass(this.selectDom),c.addSelelctNodeClass(t),this.selectDom=t;var r=this.createElementNodeInfo(t);this.reportNodeSelect(r)},t.activeElement=function(e){var t=e.xPath,r=l.parseXpath(t);return r?(c.addActiveNodeClass(r),r):(s.warnError("xPath no find element: xPath:"+t),!1)}},function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.confirmConcatRequestSginData=function(){var e=this;e.sendMessage({type:"confirmConfig",payload:null}),setTimeout(function(){e.sendMessage({type:"requestSignData",payload:null})},100)},t.handleElementEventPreventDefault=function(e){o.isBoolean(e)&&(this.preventDefault=e,this.sendMessage({type:"confirmConfig",payload:this.preventDefault}))},t.receiveSignConfigData=function(e){var t=this;if(o.isEmptyArray(e))return!1;t.activeDomList=e;var r=[];t.activeDomList.forEach(function(e){if(!e.nodeId||!e.xPath)return!1;r.push(e.nodeId),t.activeElement(e)}),t.sendMessage({type:"confirmConfig",payload:r})},t.reportNodeSelect=function(e){this.sendMessage({type:"selectNodeSgin",payload:e})},t.confirmNodeSelect=function(e){if(!e||!o.isString(e))return!1;var t=this.nodeInfoCaches[e];if(!t)return!1;this.activeElement(t),this.activeDomList.push(t),this.sendMessage({type:"confirmConfig",payload:e})}},function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0)),i=n(r(1));t.registerMessage=function(){var e=this,t=e._config.correspondWaitTimeout;e.proxyMessageHandleEvent=function(t){e.handleMessage(t)},window.addEventListener("message",e.proxyMessageHandleEvent,!1),setTimeout(function(){e.correspondFlag||(i.warnError("KeepObserverWebSignConfig  iframe correspond Connection timeout"),e.removeMessage())},t)},t.removeMessage=function(){this.correspondFlag=!1,this.sourceTarget=!1,this.sourceOrigin=!1,window.removeEventListener("message",this.proxyMessageHandleEvent)},t.handleMessage=function(e){var t=e.origin||e.originalEvent.origin,r=e.data,n=e.source;if(!this.checkOrigin(t))return i.warnError("KeepObserverWebSignConfig  iframe message origin is error"),this.removeMessage(),!1;if(!o.isExist(r)||o.isEmptyObject(r)||!r.type)return i.warnError("KeepObserverWebSignConfig  iframe correspond receive is error"),!1;switch(this.correspondFlag||(this.correspondFlag=!0,this.sourceTarget=n,this.sourceOrigin=t),r.type){case"requestConfig":this.confirmConcatRequestSginData(),this.initDomEvent();break;case"sendSignData":this.receiveSignConfigData(r.payload);break;case"confirmNodeSgin":this.confirmNodeSelect(r.payload);break;case"preventDefault":this.handleElementEventPreventDefault(r.payload);break;default:i.warnError("KeepObserverWebSignConfig  iframe correspond receive is error : data.type is error type"),this.removeMessage()}},t.sendMessage=function(e){if(!e||o.isEmptyObject(e)||!e.type)return!1;this.sourceTarget.postMessage(e,this.sourceOrigin)}},function(e,t,r){"use strict";var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(0));t.checkOrigin=function(e){var t=this._config.origins;if(o.isEmptyArray(t)||!e)return!1;for(var r=0;r<t.length;r++){if(t[r].indexOf(e)>-1)return!0}return!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startCorrespond=function(){this.registerMessage()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={correspondWaitTimeout:1e4,origins:[]}},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(27)),a=o(r(0)),s=r(26),c=r(25),u=r(24),l=r(23),f=r(22),d=r(18),p=function(){function e(e){void 0===e&&(e={webSignConfigCustom:!1}),this.startCorrespond=s.startCorrespond.bind(this),this.checkOrigin=c.checkOrigin.bind(this),this.registerMessage=u.registerMessage.bind(this),this.removeMessage=u.removeMessage.bind(this),this.handleMessage=u.handleMessage.bind(this),this.sendMessage=u.sendMessage.bind(this),this.confirmConcatRequestSginData=l.confirmConcatRequestSginData.bind(this),this.handleElementEventPreventDefault=l.handleElementEventPreventDefault.bind(this),this.receiveSignConfigData=l.receiveSignConfigData.bind(this),this.reportNodeSelect=l.reportNodeSelect.bind(this),this.confirmNodeSelect=l.confirmNodeSelect.bind(this),this.initDomEvent=f.initDomEvent.bind(this),this.createElementNodeInfo=f.createElementNodeInfo.bind(this),this.selectElement=f.selectElement.bind(this),this.activeElement=f.activeElement.bind(this),this.addReportListener=d.addReportListener.bind(this),this.handleReportData=d.handleReportData.bind(this),this.noticeReport=d.noticeReport.bind(this);var t=e.webSignConfigCustom||{};this._config=a.extend(i.default,t),this.eventListener=[],this.correspondFlag=!1,this.receiveSginConfigFlag=!1,this.sourceTarget=!1,this.sourceOrigin=!1,this.proxyMessageHandleEvent=!1,this.preventDefault=!0,this.activeDomList=[],this.nodeInfoCaches={},this.selectDom=!1}return e.prototype.apply=function(e){return this.addReportListener(e.sendPipeMessage),{$startWebSginConfig:this.startCorrespond}},e}();t.default=p}])});