!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function i(e){return"[object Number]"==Object.prototype.toString.call(e)}function s(e){return"[object String]"==Object.prototype.toString.call(e)}function a(e){return"[object Array]"==Object.prototype.toString.call(e)}function c(e){return"[object Boolean]"==Object.prototype.toString.call(e)}function l(e){return"[object RegExp]"==Object.prototype.toString.call(e)}function u(e){return"[object Date]"==Object.prototype.toString.call(e)}function d(e){return void 0===e}function f(e){return null===e}function p(e){return"[object Symbol]"==Object.prototype.toString.call(e)}function g(e){return!("[object Object]"!=Object.prototype.toString.call(e)&&(i(e)||s(e)||c(e)||u(e)||l(e)||a(e)||f(e)||m(e)||d(e)||p(e)))}function w(e){if(!g(e))return!0;for(var t in e)return!1;return!0}function m(e){return"[object Function]"==Object.prototype.toString.call(e)}function h(e){return"object"===("undefined"==typeof HTMLElement?"undefined":o(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":o(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function v(e){var t=Object.prototype.toString.call(e);return"[object global]"==t||"[object Window]"==t||"[object DOMWindow]"==t}t.dateFormat=function(e,t){if(!t||"string"!=typeof t)return console.error("format is undefiend or type is Error"),"";var n={"y+":(e=e instanceof Date?e:"number"==typeof e||"string"==typeof e?new Date(e):new Date).getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var o in n)if(new RegExp(o).test(t)){var r=RegExp.lastMatch;t=t.replace(r,n[o]<10?"0"+n[o]:n[o].toString())}return t},t.isNumber=i,t.isString=s,t.isArray=a,t.isBoolean=c,t.isRegExp=l,t.isDateObject=u,t.isUndefined=d,t.isNull=f,t.isExist=function(e){return!d(e)&&!f(e)},t.isSymbol=p,t.isSVGElement=function(e){return h(e)&&(e instanceof SVGElement||e.ownerSVGElement)},t.isObject=g,t.isEmptyObject=w,t.isEmptyArray=function(e){return!(a(e)&&e.length>0)},t.isFunction=m,t.isElement=h,t.isWindow=v,t.isPlainObject=function(e){var t,n=Object.prototype.hasOwnProperty;if(!e||"object"!==(void 0===e?"undefined":o(e))||e.nodeType||v(e))return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||n.call(e,t)},t.toArray=function(e){return Array.prototype.slice.call(e)},t.toString=function(e){return e?"string"==typeof e?e:e.toString():""},t.setSessionStorage=function(e,t){window.sessionStorage&&(e="keepObserverData_"+e,t=JSON.stringify(t),sessionStorage.setItem(e,t))},t.getSessionStorage=function(e){if(window.sessionStorage){e="keepObserverData_"+e;var t=sessionStorage.getItem(e);return t?JSON.parse(t):""}},t.removeSessionStorage=function(e){window.sessionStorage&&(e="keepObserverData_"+e,sessionStorage.removeItem(e))},t.setStorage=function(e,t){window.localStorage&&(e="keepObserverData_"+e,t=JSON.stringify(t),localStorage.setItem(e,t))},t.getStorage=function(e){if(window.localStorage){e="keepObserverData_"+e;var t=localStorage.getItem(e);return t?JSON.parse(t):""}},t.removeStorage=function(e){window.localStorage&&(e="keepObserverData_"+e,localStorage.removeItem(e))},t.getUniqueID=function(){return"xxxxxxxx-xxx-t-xxx--xxxxxxxx".replace(/[xyt]/g,function(e){var t=16*Math.random()|0,n=(new Date).getTime();return("x"==e?t:"t"==e?n:3&t|8).toString(16)})},t.extend=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return console.error("extends params is undefined"),{};if(1===t.length)return t[0];var o=t[0],r=t.slice(1,t.length);return g(o)||a(o)||(o={}),r.map(function(t){if(o===t)return!1;if(g(t))for(var n in t)g(t[n])?(o[n]=o[n]&&g(o[n])?o[n]:{},o[n]=e(o[n],t[n])):a(t[n])?(o[n]=o[n]&&a(o[n])?o[n]:[],o[n]=e(o[n],t[n])):o[n]=t[n];else if(a(t))for(var r=0;r<t.length;r++)g(t[r])?(o[r]=o[r]&&g(o[r])?o[r]:{},o[r]=e(o[r],t[r])):a(t[r])?(o[r]=o[r]&&a(o[r])?o[r]:[],o[r]=e(o[r],t[r])):o[r]=t[r]}),o},t.mixin=function(e,t){for(var n in t&&g(t)&&!w(t)||r.warnError("keepObserver $mixin receive params not right"),t)e[n]?r.warnError("keepObserver $mixin method key: "+n+" is exist"):Object.defineProperty(e,n,{configurable:!1,enumerable:!0,value:t[n]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=window.console.log,r=window.console.warn,i=window.console.error;window.console.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.apply(window.console,e)},window.console.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.apply(window.console,e)},window.console.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.apply(window.console,e)},t.log=o,t.error=i,t.wran=r,t.warnError=function(e){return t.error("[keepObserver] find error! message: "+e)}},,,,,,,,,,,,,,,,function(e,t,n){"use strict";var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0));t.addReportListener=function(e){e&&this.eventListener.push(e)},t.handleReportData=function(e){var t={type:"monitor",typeName:"log",data:e,location:window.location.href,environment:window.navigator.userAgent,reportTime:(new Date).getTime()},n={lazy:!0};return"clear"===e.type&&(n.preDelete=!0,n.ignore=!0),"jsError"!==e.type&&"error"!==e.type||(n.lazy=!1,n.trackExtend=!0,n.isError=!0,n.isReport=!0),{reportParams:t,control:n}},t.noticeReport=function(e){var t=this;if(0===t.eventListener.length)return!1;t.eventListener.map(function(n){if(r.isFunction(n)){var o=t.handleReportData(e);n(o.reportParams,o.control)}})}},function(e,t,n){"use strict";var o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},r=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(0));t._handleInit=function(){var e=this,t=["log","info","warn","debug","error"];window.console||(window.console={}),t.map(function(t){e.console[t]=window.console[t]}),e.console.time=window.console.time,e.console.timeEnd=window.console.timeEnd,e.console.clear=window.console.clear,t.map(function(t){window.console[t]=function(){for(var n,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];e._develop&&e.console[t]&&s.isFunction(e.console[t])&&(n=e.console)[t].apply(n,r(o)),e._handleMessage(t,o)}});var n={};window.console.time=function(e){n[e]=Date.now()},window.console.timeEnd=function(t){var o=n[t];if(o){var r=t+":"+(Date.now()-o)+"ms";e._handleMessage("timeEnd",[r]),e._develop&&e.console.log&&s.isFunction(e.console.log)&&e.console.log(r)}else{r=t+": 0ms";e._handleMessage("timeEnd",[r]),e._develop&&e.console.log&&s.isFunction(e.console.log)&&e.console.log(r)}},window.console.clear=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._handleMessage("clear",t),e.console.clear.apply(window.console,t)},e._config.catchCrossDomain&&!e.$createElement&&(window.document||window.document.createElement)&&(e.$createElement=window.document.createElement,window.document.createElement=function(t){var n=e.$createElement.call(window.document,t);return"script"===t&&(n.crossOrigin="anonymous"),n}),void 0!==window.addEventListener?window.addEventListener("error",function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._handleError.apply(e,r(t))},!0):window.attachEvent("onerror",function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._handleError.apply(e,r(t))})},t._handleMessage=function(e,t){var n={};if(!s.isArray(t)||0===t.length)return!1;n.type=e,n.data=JSON.stringify(t),this.noticeReport(n)},t._handleError=function(e){var t=this,n={},o=e.filename||e.url||!1;return e.message&&"Script error."!==e.message||o?(n.errMsg=e.message||"Error detail info not obtained",n.url=o,n.line=e.lineno||"Error row not obtained",n.colum=e.colno||"Error column not obtained",setTimeout(function(){t._handleMessage("jsError",[n])}),!0):e.target&&!s.isWindow(e.target)&&e.target.nodeName&&e.target.src?(n.errMsg="loadError! web request Resource loading error",n.nodeName=e.target.nodeName,n.url=e.target.src,setTimeout(function(){t._handleMessage("loadError",[n])}),!1):!!t._config.unknowErrorCatch&&(n.errMsg="jsError!There may be an error in the JS for cross-domain resources, and the error URL location cannot be obtained. The error message is:"+e.message,n.url="",n.line=0,n.colum=0,setTimeout(function(){t._handleMessage("jsError",[n])}),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stopObserver=function(){window.console.log=this.console.log,window.console.error=this.console.error,window.console.info=this.console.info,window.console.debug=this.console.debug,window.console.warn=this.console.warn,window.console.time=this.console.time,window.console.timeEnd=this.console.timeEnd,window.console.clear=this.console.clear,this.console={},this._config.catchCrossDomain&&(window.document.createElement=this.$createElement,this.$createElement=!1)},t.startObserver=function(){var e=this;setTimeout(function(){e._handleInit()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={catchCrossDomain:!0,unknowErrorCatch:!1}},function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(20)),s=r(n(0)),a=n(19),c=n(18),l=n(17),u=function(){function e(e){this.stopObserver=a.stopObserver.bind(this),this.startObserver=a.startObserver.bind(this),this._handleInit=c._handleInit.bind(this),this._handleMessage=c._handleMessage.bind(this),this._handleError=c._handleError.bind(this),this.addReportListener=l.addReportListener.bind(this),this.handleReportData=l.handleReportData.bind(this),this.noticeReport=l.noticeReport.bind(this);var t=e.logCustom||{};t.develop=!!e.develop,this._config=s.extend(i.default,t),this._develop=this._config.develop,this._typeName="log",this.eventListener=[],this.console={},this.$createElement=!1,this.startObserver()}return e.prototype.apply=function(e){return this.addReportListener(e.sendPipeMessage),{$logStop:this.stopObserver,$logStart:this.startObserver}},e}();t.default=u}])});