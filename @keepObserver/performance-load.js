!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);function i(e){return"[object Number]"==Object.prototype.toString.call(e)}function a(e){return"[object String]"==Object.prototype.toString.call(e)}function s(e){return"[object Array]"==Object.prototype.toString.call(e)}function c(e){return"[object Boolean]"==Object.prototype.toString.call(e)}function u(e){return"[object RegExp]"==Object.prototype.toString.call(e)}function f(e){return"[object Date]"==Object.prototype.toString.call(e)}function d(e){return void 0===e}function l(e){return null===e}function p(e){return"[object Symbol]"==Object.prototype.toString.call(e)}function m(e){return!("[object Object]"!=Object.prototype.toString.call(e)&&(i(e)||a(e)||c(e)||f(e)||u(e)||s(e)||l(e)||y(e)||d(e)||p(e)))}function g(e){if(!m(e))return!0;for(var t in e)return!1;return!0}function y(e){return"[object Function]"==Object.prototype.toString.call(e)}function v(e){return"object"===("undefined"==typeof HTMLElement?"undefined":r(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":r(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function b(e){var t=Object.prototype.toString.call(e);return"[object global]"==t||"[object Window]"==t||"[object DOMWindow]"==t}t.dateFormat=function(e,t){if(!t||"string"!=typeof t)return console.error("format is undefiend or type is Error"),"";var n={"y+":(e=e instanceof Date?e:"number"==typeof e||"string"==typeof e?new Date(e):new Date).getFullYear(),"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var r in n)if(new RegExp(r).test(t)){var o=RegExp.lastMatch;t=t.replace(o,n[r]<10?"0"+n[r]:n[r].toString())}return t},t.isNumber=i,t.isString=a,t.isArray=s,t.isBoolean=c,t.isRegExp=u,t.isDateObject=f,t.isUndefined=d,t.isNull=l,t.isExist=function(e){return!d(e)&&!l(e)},t.isSymbol=p,t.isSVGElement=function(e){return v(e)&&(e instanceof SVGElement||e.ownerSVGElement)},t.isObject=m,t.isEmptyObject=g,t.isEmptyArray=function(e){return!(s(e)&&e.length>0)},t.isFunction=y,t.isElement=v,t.isWindow=b,t.isPlainObject=function(e){var t,n=Object.prototype.hasOwnProperty;if(!e||"object"!==(void 0===e?"undefined":r(e))||e.nodeType||b(e))return!1;try{if(e.constructor&&!n.call(e,"constructor")&&!n.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||n.call(e,t)},t.toArray=function(e){return Array.prototype.slice.call(e)},t.toString=function(e){return e?"string"==typeof e?e:e.toString():""},t.setSessionStorage=function(e,t){window.sessionStorage&&(e="keepObserverData_"+e,t=JSON.stringify(t),sessionStorage.setItem(e,t))},t.getSessionStorage=function(e){if(window.sessionStorage){e="keepObserverData_"+e;var t=sessionStorage.getItem(e);return t?JSON.parse(t):""}},t.removeSessionStorage=function(e){window.sessionStorage&&(e="keepObserverData_"+e,sessionStorage.removeItem(e))},t.setStorage=function(e,t){window.localStorage&&(e="keepObserverData_"+e,t=JSON.stringify(t),localStorage.setItem(e,t))},t.getStorage=function(e){if(window.localStorage){e="keepObserverData_"+e;var t=localStorage.getItem(e);return t?JSON.parse(t):""}},t.removeStorage=function(e){window.localStorage&&(e="keepObserverData_"+e,localStorage.removeItem(e))},t.getUniqueID=function(){return"xxxxxxxx-xxx-t-xxx--xxxxxxxx".replace(/[xyt]/g,function(e){var t=16*Math.random()|0,n=(new Date).getTime();return("x"==e?t:"t"==e?n:3&t|8).toString(16)})},t.extend=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return console.error("extends params is undefined"),{};if(1===t.length)return t[0];var r=t[0],o=t.slice(1,t.length);return m(r)||s(r)||(r={}),o.map(function(t){if(r===t)return!1;if(m(t))for(var n in t)m(t[n])?(r[n]=r[n]&&m(r[n])?r[n]:{},r[n]=e(r[n],t[n])):s(t[n])?(r[n]=r[n]&&s(r[n])?r[n]:[],r[n]=e(r[n],t[n])):r[n]=t[n];else if(s(t))for(var o=0;o<t.length;o++)m(t[o])?(r[o]=r[o]&&m(r[o])?r[o]:{},r[o]=e(r[o],t[o])):s(t[o])?(r[o]=r[o]&&s(r[o])?r[o]:[],r[o]=e(r[o],t[o])):r[o]=t[o]}),r},t.mixin=function(e,t){for(var n in t&&m(t)&&!g(t)||o.warnError("keepObserver $mixin receive params not right"),t)e[n]?o.warnError("keepObserver $mixin method key: "+n+" is exist"):Object.defineProperty(e,n,{configurable:!1,enumerable:!0,value:t[n]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.console.log,o=window.console.warn,i=window.console.error;window.console.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.apply(window.console,e)},window.console.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.apply(window.console,e)},window.console.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.apply(window.console,e)},t.log=r,t.error=i,t.wran=o,t.warnError=function(e){return t.error("[keepObserver] find error! message: "+e)}},,function(e,t,n){"use strict";var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));t.addReportListener=function(e){e&&this.eventListener.push(e)},t.handleReportData=function(e){var t={lazy:!1,isReport:!0};return{reportParams:{type:"performance",typeName:"load",data:e,location:window.location.href,environment:window.navigator.userAgent,reportTime:(new Date).getTime()},control:t}},t.noticeReport=function(e){var t=this;if(0===t.eventListener.length)return!1;t.eventListener.map(function(n){if(o.isFunction(n)){var r=t.handleReportData(e);n(r.reportParams,r.control)}})}},function(e,t,n){"use strict";var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(0));t.getSystemInfo=function(){var e=this,t=this.checkIsOneDay();if(this._config.isOneDay&&t)return!1;e._config.isPerformance&&e.getWebPerformance(function(t){e._systemInfo=t,e.noticeReport(e._systemInfo),e.recordReport()})},t.getWebPerformance=function(e){var t=this,n=function(){var n={},r=window.performance||window.msPerformance||window.webkitPerformance,i=window.performance&&window.performance.timing,a=window.performance&&window.performance.navigation;if(r&&i&&(n.redirectCount=a?a.redirectCount+"次":"未知",n.redirectTime=i.redirectEnd-i.redirectStart+"ms",n.appcacheTime=Math.max(i.domainLookupStart-i.fetchStart,0)+"ms",n.dns=i.domainLookupEnd-i.domainLookupStart+"ms",n.tcp=i.connectEnd-i.connectStart+"ms",n.request=i.responseStart-i.requestStart+"ms",n.response=i.responseEnd-i.responseStart+"ms",n.network=i.responseEnd-i.navigationStart+"ms",n.DOMrender=(i.domComplete||i.domLoading)-i.domLoading+"ms",n.onloadTime=i.loadEventEnd-i.loadEventStart+"ms",n.total=(i.loadEventEnd||i.loadEventStart||i.domComplete||i.domLoading)-i.navigationStart+"ms",n.DOMactive=i.domInteractive-i.navigationStart+"ms",n.webResponse=i.responseStart-i.navigationStart+"ms",n.webLoad=i.domLoading-i.navigationStart+"ms",n.webLoadEnd=i.loadEventEnd-i.navigationStart+"ms"),r&&t._config.isPerformanceRequest&&(n.requestPerformance=[],r.getEntries)){var s=r.getEntries();o.isArray(s)&&s.map(function(e){if(e.initiatorType){var t=e.duration,r=e.encodedBodySize;t=isNaN(t.toFixed(2))?t:t.toFixed(2),r=isNaN(r.toFixed(2))?r:(r/1e3).toFixed(2);var o={type:e.initiatorType,name:e.name,time:t+"ms",size:r+"kb"};n.requestPerformance.push(o)}}),e&&e(n)}};void 0!==window.addEventListener?window.addEventListener("load",function(){setTimeout(n,0)},!1):window.attachEvent("onload",function(){setTimeout(n,0)})},t.checkIsOneDay=function(){var e=o.getStorage("loadRecordReportDate"),t=o.dateFormat(new Date,"yyyy-MM-dd");return!!e&&e===t},t.recordReport=function(){if(this._config.isOneDay){var e=o.dateFormat(new Date,"yyyy-MM-dd");o.setStorage("loadRecordReportDate",e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isOneDay:!0,isPerformance:!0,isPerformanceRequest:!0,immediatelyiReport:!0}},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(5)),a=o(n(0)),s=n(4),c=n(3),u=function(){function e(e){this.getSystemInfo=s.getSystemInfo.bind(this),this.getWebPerformance=s.getWebPerformance.bind(this),this.checkIsOneDay=s.checkIsOneDay.bind(this),this.recordReport=s.recordReport.bind(this),this.addReportListener=c.addReportListener.bind(this),this.handleReportData=c.handleReportData.bind(this),this.noticeReport=c.noticeReport.bind(this);var t=e.LoadCustom||{};this._config=a.extend(i.default,t),this._systemInfo=!1,this._typeName="Load",this.eventListener=[],this.getSystemInfo()}return e.prototype.apply=function(e){this.addReportListener(e.sendPipeMessage)},e}();t.default=u}])});